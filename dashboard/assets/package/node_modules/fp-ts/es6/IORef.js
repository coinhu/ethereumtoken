/**
 * @example
 * import { io } from 'fp-ts/lib/IO'
 * import { newIORef } from 'fp-ts/lib/IORef'
 *
 * assert.strictEqual(io.chain(newIORef(1), ref => io.chain(ref.write(2), () => ref.read))(), 2)
 *
 * @since 2.0.0
 */
export class IORef {
    constructor(value) {
        this.value = value;
        this.read = () => this.value;
    }
    /**
     * @since 2.0.0
     */
    write(a) {
        return () => {
            this.value = a;
        };
    }
    /**
     * @since 2.0.0
     */
    modify(f) {
        return () => {
            this.value = f(this.value);
        };
    }
}
/**
 * @since 2.0.0
 */
export function newIORef(a) {
    return () => new IORef(a);
}
